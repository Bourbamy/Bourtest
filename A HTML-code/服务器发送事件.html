<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>服务器发送事件</title>
	</head>
	<body>
		<p>
			HTML5 服务器发送事件（server-sent event）允许网页获得来自服务器的更新
		</p>
		<p>
			
		</p>
		
		<h1>获得服务器更新</h1>
		<div id="result"></div>

		<script>
		if(typeof(EventSource)!=="undefined")
		  {
		  var source=new EventSource("/example/html5/demo_sse.php");
		  source.onmessage=function(event)
			{
			document.getElementById("result").innerHTML+=event.data + "<br />";
			};
		  }
		else
		  {
		  document.getElementById("result").innerHTML="抱歉，您的浏览器不支持 server-sent 事件 ...";
		  }
		</script>
	</body>
</html>
